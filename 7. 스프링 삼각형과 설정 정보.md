# 스프링 삼각형과 설정 정보
스프링을 이해하는 데는 POJO(Plain Old Java Object)를 기반으로 스프링 삼각형이라는 애칭을 가진<br/>
IoC/DI, AOP, PSA라고 하는 스프링의 3대 프로그래밍 모델에 대한 이해가 필수다.
<hr/>

### IoC/DI - 제어의 역전/의존성 주입
의사 코드
```
운전자가 자동차를 생산한다.
자동차는 내부적으로 타이어를 생산한다.
```
자바로 표현
```
new Car();
Car 객체 생성자에서 new Tire();
```
> 의존성은 new다.<br/> new를 실행하는 Car와 Tire 사이에서 Car가 Tire에 의존한다.<br/>
> 결론적으로 전체가 부분에 의존한다고 표현할 수 있다.

#### 스프링 없이 의존성 주입하기 1 - 생성자를 통한 의존성 주입
의사코드
```
운전자가 타이어를 생산한다.
운전자가 자동차를 생산하면서 타이어를 장착한다.
```
자바로 표현
```
Tire tire = new KoreaTire();
Car car = new Car(tire);
```
주입이란 말은 외부에서라는 뜻을 내포하고 있는 단어이다.<br/>
자동차 내부에서 타이어를 생산하는 것이 아니라 외부에서 생산된 타이어를 자동차에 장착하는 작업이 주입이다.
* 자동차가 생산될 때 어떤 타이어를 생산해서 장착할까를 자동차가 스스로 고민하지 않고, 운전자가 차량을 생산할 때 운전자가 어떤 타이어를 장착할까를 고민하게 하는 것이다.<br/>
* 의존성 주입을 적용할 경우 Car는 그저 Tire 인터페이스를 구현한 어떤 객체가 들어오기만 하면 정상적으로 작동하게 된다.<br/>
* 의존성 주입을 하면 확장성도 좋아지는데, 나중에 ChinaTire, JapanTire, EnglandTire 등등 어떤 새로운 타이어 브랜드가 생겨도 각 타이어 브랜드들이 Tire
인터페이스를 구현한다면 Car.java 코드를 변경할 필요 없이 사용할 수 있기 때문이다.(또한 다시 컴파일할 필요도 없다.)
> 현실 세계의 표준 규격 준수 = 프로그래밍 세계의 인터페이스 구현

#### 스프링 없이 의존성 주입하기2 - 속성을 통한 의존성 주입
의사코드
```
운전자가 타이어를 생산한다.
운전자가 자동차를 생산한다.
운전자가 자동차에 타이어를 장착한다.
```
자바로 표현 - 속성 접근자 메서드 사용
```
Tire tire = new KoreaTire();
Car car = new Car();
car.setTire(tire);
```
> 생성자를 통해 의존성을 주입하는 것은 한번 생산하면 더 이상 타이어를 교체하지 못한다.<br/>
> 따라서 생성자가 아닌 속성을 통한 의존성 주입이 필요하다.

#### 스프링을 통한 의존성 주입 - XML 파일 사용
의사 코드
```
운전자가 종합 쇼핑몰에서 타이어를 구매한다.
운전자가 종합 쇼핑몰에서 자동차를 구매한다.
운전자가 자동차에 타이어를 장착한다.
```
자바로 표현(속성을 통한 주입)
```
ApplicationContext context = new ClassPathXmlApplicationContext("expert002.xml", Driver.class);
Tire tire = (Tire)context.getBean("tire");
Car car = (Car)context.getBean("car");
car.setTire(tire);
```

